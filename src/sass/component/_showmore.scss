//
// ACCORDION LIST
//

.c-show-more {
  @include component;
  // Make sure button is higher than content:after
  .c-btn {
    position:relative;
    z-index:8;
  }
}
// Secondary buttons on alt1/2 rows disappear
// Make them the same as default buttons
$color: map-get($c-btn, 'default');
$bgColor:map-get($color, bg);
$bgHoverColor:lighten($bgColor, 5);
$bgActiveColor:lighten($bgColor, 10);
$bgFocusColor:darken($bgColor, 10);
$borderColor:$bgColor;
$textColor:map-get($color, text);
.o-grid__row--alt1,
.o-grid__row--alt2 {
  .c-show-more .c-btn--secondary {
    color: $textColor;
    background-color: $bgColor;
    border-color:$borderColor;
    &:hover {
      color: $textColor;
      background-color: $bgHoverColor;
    }
    &:active {
      color: $textColor;
      background-color: $bgActiveColor;
    }
    &:focus {
      color: $textColor;
      background-color: $bgFocusColor;
      outline-color: $bgFocusColor;
    }
  }
}
.c-show-more__content {
  @include transition('opacity');
  overflow:hidden;
  position:relative;
  &:after {
    content:'';
    display:block;
    width:100%;
    height:50%;
    max-height:100px;
    background-image:linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 90%);
    position:absolute;
    bottom:0;
    left:0;
    opacity:0;
  }
  .c-show-more.is-closed &:after {
    opacity:1;
  }
}
// Different colour gradients for use in alt rows
.o-grid__row--alt1 {
  .c-show-more__content {
    &:after {
      background-image:linear-gradient(to bottom, transparentize($o-grid__row--alt1-background-color, 1) 0%, $o-grid__row--alt1-background-color 90%);
    }
  }
}
.o-grid__row--alt2 {
  .c-show-more__content {
    &:after {
      background-image:linear-gradient(to bottom, transparentize($o-grid__row--alt2-background-color, 1) 0%, $o-grid__row--alt2-background-color 90%);
    }
  }
}
.o-grid__row--alt3 {
  .c-show-more__content {
    &:after {
      background-image:linear-gradient(to bottom, transparentize($o-grid__row--alt3-background-color, 1) 0%, $o-grid__row--alt3-background-color 90%);
    }
  }
}

.csstransforms {
  // 'is-ready' class added by JS after preparation
  .c-show-more__content.is-ready {
    @include transition('height');
  }
}
